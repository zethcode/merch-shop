(this["webpackJsonpe-merch"]=this["webpackJsonpe-merch"]||[]).push([[0],{117:function(e,t,a){},119:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),o=(a(117),a(18)),i=a(21),l=a(1),j=a.n(l),d=a(5),b=a(17),u=a(8),p=a(15),m=(a(119),a(26)),O=a(33),h=a(163),x=a(102),f=a(197),g=a(168),v=a(169),w=a(170),y=a(171),k=a(172),C=a(173),N=a(4),I=a(28),S=Object(h.a)((function(e){return{appBar:Object(N.a)({boxShadow:"none",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(0,"px)"),marginLeft:0}),title:{flexGrow:1,alignItems:"center",display:"flex",textDecoration:"none"},image:{marginRight:"10px"},menuButton:Object(N.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),grow:{flexGrow:1},search:Object(N.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(I.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(I.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(N.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),logo:{width:"135px",height:"50px"},authButton:{marginRight:"0.7rem"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),B=a(41),T=a.p+"static/media/logo-white-on-transparent.f80f3dc7.png",P=a(131),R=a(167),L=a(3),q=function(e){return Object(L.jsx)(P.a,Object(b.a)(Object(b.a)({},e),{},{children:Object(L.jsx)(R.a,{color:"inherit"})}))},z=function(e){var t=e.cartTotal,a=e.userInfo,r=S(),c=Object(m.g)(),s=Object(m.h)(),o=Object(n.useState)(!1),i=Object(p.a)(o,2),l=i[0],j=i[1];return Object(n.useEffect)((function(){j(!1)}),[]),"/signin"!==s.pathname&&"/signup"!==s.pathname&&Object(L.jsx)(g.a,{position:"fixed",className:r.appBar,children:Object(L.jsxs)(v.a,{disableGutters:!0,children:[Object(L.jsx)(w.a,{component:O.b,to:"/",children:Object(L.jsx)("img",{className:r.logo,alt:"tabp-logo",src:T})}),Object(L.jsx)("div",{className:r.grow}),a?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)("div",{className:r.button,children:Object(L.jsx)(y.a,{"aria-label":"Show cart items",color:"inherit",component:O.b,to:"/cart",children:Object(L.jsx)(k.a,{badgeContent:t,color:"secondary",children:Object(L.jsx)(C.a,{})})})}),Object(L.jsx)(w.a,{className:r.authButton,color:"inherit",onClick:function(){j(!0);try{Object(B.e)(Object(B.b)()),c.push("/")}catch(e){alert(e.message)}},children:"Logout"})]}):Object(L.jsxs)(L.Fragment,{children:[" ",Object(L.jsx)(w.a,{color:"inherit",component:O.b,to:"/signin",children:"SIGN IN"}),Object(L.jsx)(w.a,{className:r.authButton,color:"inherit",component:O.b,to:"/signup",children:"REGISTER"})," "]}),Object(L.jsx)(q,{className:r.backdrop,open:l})]})})},A=a(174),F=a(77),D=function(e){var t=e.message;return Object(L.jsxs)(A.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"25vh"},children:[Object(L.jsx)(R.a,{}),Object(L.jsx)("br",{}),Object(L.jsx)(F.a,{variant:"h5",gutterBottom:!0,children:t})]})},E=a(177),G=a(178),W=a(179),H=a(180),U=(a(181),Object(h.a)((function(e){return{root:{maxWidth:"100%"},media:{height:0,paddingTop:"90%"},cardActions:{display:"flex",justifyContent:"flex-end"},cardContent:{display:"flex",justifyContent:"space-between"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),a(175)),J=a(200),_=a(199),M=function(e){var t=e.alertProps,a=e.handleClose,n=e.severity,r=e.message,c=e.variant;return Object(L.jsx)(J.a,{open:t.open,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,onClose:a,TransitionComponent:function(e){return Object(L.jsx)(U.a,Object(b.a)(Object(b.a)({},e),{},{direction:"left"}))},disableWindowBlurListener:!0,children:Object(L.jsx)(_.a,{onClose:a,severity:n,variant:c,sx:{width:"100%"},children:r})})},V=(Object(h.a)((function(e){return{root:{flexGrow:1},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}})),function(){return Object(L.jsx)(A.a,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(L.jsxs)(A.a,{item:!0,children:[Object(L.jsx)("h3",{children:"Error 404: Page not found!"}),Object(L.jsx)(O.b,{to:"/",children:"Go back to home page"})]})})}),Y=a(182),Q=a(183),Z=a(184),$=a(185),K=a(186),X=a(187),ee=Object(h.a)((function(e){var t;return{toolbar:e.mixins.toolbar,title:{marginTop:"3%"},emptyButton:(t={minWidth:"150px"},Object(N.a)(t,e.breakpoints.down("xs"),{marginBottom:"5px"}),Object(N.a)(t,e.breakpoints.up("xs"),{marginRight:"20px"}),t),checkoutButton:{minWidth:"150px"},link:{textDecoration:"none"},cardDetails:{display:"flex",marginTop:"10%",width:"100%",justifyContent:"space-between"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),te=Object(h.a)((function(e){return{media:{height:260},cardContent:{display:"flex",justifyContent:"space-between"},cartActions:{justifyContent:"space-between"},buttons:{display:"flex",alignItems:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),ae=a(100),ne=a.n(ae),re=a(99),ce=a.n(re),se=function(e){var t=e.item,a=e.updateCart,r=e.removeFromCart,c=e.alertProps,s=e.handleSnackbarClose,o=te(),i=Object(n.useState)(!0),l=Object(p.a)(i,2),j=l[0],d=l[1],b=Object(n.useState)(!1),u=Object(p.a)(b,2),m=u[0],O=u[1];Object(n.useEffect)((function(){j||(c.open=!1),d(!1),h()}),[c,j]);var h=function(){O(!1)},x=function(){O(!0)};return Object(L.jsxs)(E.a,{children:[Object(L.jsx)(G.a,{image:t.product.image,alt:t.product.name,className:o.media}),Object(L.jsxs)(W.a,{className:o.cardContent,children:[Object(L.jsx)(F.a,{variant:"h6",children:t.product.name}),Object(L.jsxs)(F.a,{variant:"h6",children:["\u20b1\xa0",t.product.price]})]}),Object(L.jsxs)(H.a,{className:o.CardActions,children:[Object(L.jsxs)("div",{className:o.buttons,children:[Object(L.jsx)(y.a,{"aria-label":"Subtract Quantity",size:"medium",disabled:1===t.quantity,onClick:function(){a(t,t.quantity-1),x()},children:Object(L.jsx)(ce.a,{})}),Object(L.jsx)(F.a,{children:t.quantity}),Object(L.jsx)(y.a,{"aria-label":"Add Quantity",size:"medium",onClick:function(){a(t,t.quantity+1),x()},children:Object(L.jsx)(ne.a,{})}),!c.addStatus&&Object(L.jsx)(M,{alertProps:c,handleClose:s,severity:"error",variant:"filled",message:"An error has occcured!"}),Object(L.jsx)(q,{className:o.backdrop,open:m})]}),Object(L.jsx)(w.a,{variant:"contained",type:"button",color:"secondary",size:"small",onClick:function(){r(t.id),x()},children:"Remove"})]})]})},oe=function(e){e.userId;var t=e.cart,a=e.updateCart,c=e.removeFromCart,s=e.emptyCart,o=e.loading,i=e.alertProps,l=e.handleSnackbarClose;var j=ee(),d=Object(n.useState)(0),u=Object(p.a)(d,2),m=u[0],h=u[1],x=Object(n.useState)(!1),f=Object(p.a)(x,2),g=f[0],v=f[1],y=Object(n.useState)(!1),k=Object(p.a)(y,2),C=k[0],N=k[1],I=r.a.forwardRef((function(e,t){return Object(L.jsx)(U.a,Object(b.a)({direction:"up",ref:t},e))})),S=function(){v(!0)},B=function(){v(!1)},T=function(){return Object(L.jsxs)(F.a,{variant:"subtitle1",gutterBottom:!0,children:["There are no items in your cart.",Object(L.jsx)("br",{}),Object(L.jsx)(O.b,{to:"/",children:"Shop now!"})]})};Object(n.useEffect)((function(){if(t.length){var e=t.reduce((function(e,t){return e+t.product.price*t.quantity}),0);h(e)}N(!1)}),[t]);var P=function(){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(A.a,{container:!0,spacing:3,children:t.map((function(e){return Object(L.jsx)(A.a,{item:!0,xs:6,sm:4,md:4,lg:3,children:Object(L.jsx)(se,{item:e,updateCart:a,removeFromCart:c,alertProps:i,handleSnackbarClose:l})},e.id)}))}),Object(L.jsxs)("div",{className:j.cardDetails,children:[Object(L.jsxs)(F.a,{variant:"h5",children:["Subtotal: \u20b1\xa0",m]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(w.a,{className:j.emptyButton,size:"small",type:"button",variant:"contained",color:"secondary",onClick:S,children:"Empty Cart"}),Object(L.jsx)(w.a,{className:j.checkoutButton,size:"small",type:"button",variant:"contained",color:"primary",children:"Checkout"}),Object(L.jsxs)(Q.a,{open:g,TransitionComponent:I,keepMounted:!0,onClose:B,"aria-describedby":"alert-dialog-slide-description",children:[Object(L.jsx)(Z.a,{id:"alert-dialog-slide-title",children:"Remove Items"}),Object(L.jsx)($.a,{children:Object(L.jsx)(K.a,{id:"alert-dialog-slide-description",children:"Are you sure you want to remove all the items from your cart?"})}),Object(L.jsxs)(X.a,{children:[Object(L.jsx)(w.a,{onClick:B,color:"secondary",children:"Cancel"}),Object(L.jsx)(w.a,{color:"primary",variant:"contained",onClick:function(){s("user-arckie"),B(),N(!0)},children:"Yes"})]})]})]})]})]})};return Object(L.jsxs)(Y.a,{children:[Object(L.jsx)("div",{className:j.toolbar}),Object(L.jsx)(F.a,{className:j.title,variant:"h4",gutterBottom:!0,children:"Cart"}),o?Object(L.jsx)(D,{message:"Loading Cart..."}):t.length?Object(L.jsx)(P,{}):Object(L.jsx)(T,{}),i.delete?Object(L.jsx)(M,{alertProps:i,handleClose:l,severity:"success",variant:"filled",message:"Emptied the cart successfully!"}):Object(L.jsx)(M,{alertProps:i,handleClose:l,severity:"error",variant:"filled",message:"An error has occcured!"}),Object(L.jsx)(q,{className:j.backdrop,open:C})]})},ie=a(188),le=a(189),je=a.p+"static/media/woman-mountain-walking-2.0ab11999.jpg",de=(a.p,Object(h.a)((function(e){return{root:{flex:1,justifyContent:"center",alignItems:"center",minHeight:"100vh",height:"100vh"},header:{textAlign:"center",height:"100vh",width:"100%",alignItems:"center"},headerTitle:{fontFamily:"Podkova"},headerContainer:{marginTop:"7em"},headerImage:{height:"800px",width:"1000px"},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}}))),be=Object(n.memo)((function(){var e=de(),t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],c=a[1];console.log("re-rendered home");return Object(n.useEffect)((function(){c(!0)}),[]),Object(L.jsxs)("div",{className:e.root,children:[Object(L.jsxs)("div",{className:e.header,children:[Object(L.jsx)("div",{className:e.toolbar}),Object(L.jsx)(ie.a,Object(b.a)(Object(b.a)({in:r},r&&{timeout:1700}),{},{collapsedSize:50,children:Object(L.jsx)(A.a,{className:e.headerContainer,container:!0,direction:"column",children:Object(L.jsxs)(A.a,{item:!0,children:[Object(L.jsxs)(F.a,{className:e.headerTitle,variant:"h1",children:["Tela At Iba Pa ",Object(L.jsx)("br",{}),"Clothing "]}),Object(L.jsx)(F.a,{variant:"subtitle1",children:"Never be afraid to express yourself through style."})]})})}))]}),Object(L.jsx)("div",{className:e.section1,children:Object(L.jsx)("img",{className:e.headerImage,alt:"woman-trekking",src:je})}),Object(L.jsx)(le.a,{})]})})),ue=a(22),pe=a(101),me=a(51),Oe=Object(pe.a)({apiKey:"AIzaSyBXYRCWPfym0rOJVrhh9l5hTV0NJu__wao",authDomain:"merch-shop-a28ac.firebaseapp.com",projectId:"merch-shop-a28ac",storageBucket:"merch-shop-a28ac.appspot.com",messagingSenderId:"68282669607",appId:"1:68282669607:web:2d6ba926d44a9fa87fcc02",measurementId:"G-0VB1S418J8"}),he=Object(ue.f)(Oe),xe=Object(n.createContext)(),fe=function(e){var t=Object(n.useState)(),a=Object(p.a)(t,2),r=a[0],c=a[1],s=Object(n.useState)(),o=Object(p.a)(s,2),i=o[0],l=o[1];return Object(n.useEffect)((function(){var e=Object(me.b)(Object(me.a)(),c,l);return function(){return e()}}),[]),Object(L.jsx)(xe.Provider,Object(b.a)({value:{user:r,error:i}},e))},ge=a(87),ve=a(190),we=a(198),ye=a(192),ke=a(201),Ce=a(191),Ne=a(193),Ie=a(196),Se=a(194),Be=a(195),Te=a(76),Pe=Object(h.a)((function(e){return{root:{flexGrow:1},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:"2%"},paper:{height:"42em",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"5%"},container:{paddingBottom:e.spacing(10),paddingTop:e.spacing(8),padding:e.spacing(4)},formControl:{marginTop:e.spacing(2)},submitButton:{marginTop:e.spacing(4),marginBottom:e.spacing(1),borderRadius:"1.5em",width:"13em"},authLogo:{width:"55%",height:"55%",marginBottom:"1rem"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Re=a.p+"static/media/tabp-black-on-transparent.6cd6e039.png",Le=function(e){var t,a=e.prevPath,r=Pe(),c=Object(m.g)(),s=Object(n.useState)(!1),o=Object(p.a)(s,2),i=o[0],l=o[1],u=Object(Te.a)({}),O=u.register,h=u.handleSubmit,x=u.formState.errors,f=Object(n.useState)(!1),g=Object(p.a)(f,2),v=g[0],k=g[1],C=Object(n.useState)(!1),N=Object(p.a)(C,2),I=N[0],S=N[1];console.log("ang path",a);var T=Object(n.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),a=Object(B.b)(),e.prev=2,e.next=5,Object(B.d)(a,t.email,t.password).then((function(e){})).catch((function(e){console.log("Error encountered signing in!")}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),l(!0),S(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(L.jsxs)(Y.a,{className:r.content,children:[Object(L.jsx)("div",{className:r.toolbar}),Object(L.jsxs)(ge.a,{className:r.paper,component:Y.a,maxWidth:"xs",elevation:5,children:[Object(L.jsx)("form",{onSubmit:h(T),children:Object(L.jsxs)(A.a,{className:r.container,container:!0,direction:"column",justifyContent:"space-around",spacing:2,children:[Object(L.jsxs)(A.a,{item:!0,align:"center",children:[Object(L.jsx)("img",{className:r.authLogo,alt:"tabp-logo",src:Re}),Object(L.jsx)(F.a,{variant:"h4",align:"center",children:"Shop Now"}),Object(L.jsx)(F.a,{variant:"caption",align:"center",children:"Sign in with your account to start shopping!"})]}),i&&Object(L.jsx)(ve.a,{error:!0,children:"Sign in failed. Your email/password is incorrect."}),Object(L.jsx)(we.a,Object(b.a)(Object(b.a)({className:r.formControl,required:!0,id:"login-email",type:"email",name:"email",label:"Email Address",placeholder:"example@email.com",InputLabelProps:{required:!1}},O("email",{pattern:{value:/.+@.+\.[A-Za-z]{2,4}$/,message:"This is an invalid email address"}})),{},{error:Boolean(x.email),helperText:null===(t=x.email)||void 0===t?void 0:t.message})),Object(L.jsxs)(ye.a,{className:r.formControl,children:[Object(L.jsx)(ke.a,{htmlFor:"login-password",children:"Password"}),Object(L.jsx)(Ce.a,Object(b.a)(Object(b.a)({id:"login-password",required:!0,type:v?"text":"password"},O("password")),{},{endAdornment:Object(L.jsx)(Ne.a,{position:"end",children:Object(L.jsx)(y.a,{"aria-label":"toggle password visibility",onClick:function(){k(!v)},onMouseDown:function(e){e.preventDefault()},children:v?Object(L.jsx)(Se.a,{}):Object(L.jsx)(Be.a,{})})})}))]}),Object(L.jsx)("br",{}),Object(L.jsx)(Ie.a,{component:"button",align:"right",variant:"subtitle2",onClick:function(){return console.log("Insert forgot passwod functionality here.")},children:"Forgot password?"}),Object(L.jsx)(A.a,{item:!0,align:"center",children:Object(L.jsx)(w.a,{className:r.submitButton,variant:"contained",color:"primary",type:"submit",disableElevation:!0,children:"Sign In"})}),Object(L.jsxs)(F.a,{variant:"subtitle2",align:"center",children:["Don't have an account?",Object(L.jsx)(Ie.a,{component:"button",variant:"subtitle2",onClick:function(){return c.push("/signup")},children:"\xa0Sign Up"})]}),Object(L.jsx)("br",{}),Object(L.jsx)(Ie.a,{component:"button",variant:"subtitle2",to:"/",onClick:function(){return c.push("/")},children:"Back to Home"})]})}),Object(L.jsx)(q,{className:r.backdrop,open:I})]})]})},qe=function(){var e,t,a,r=Pe(),c=Object(m.g)(),s=Object(Te.a)({}),o=s.register,i=s.handleSubmit,l=s.formState.errors,u=s.watch,O=Object(n.useState)(!1),h=Object(p.a)(O,2),x=h[0],f=h[1],g=Object(n.useState)(!1),v=Object(p.a)(g,2),k=v[0],C=v[1],N=Object(n.useRef)({}),I=Object(n.useRef)({});I.current=u("password","");var S=function(){f(!x)},T=function(){C(!1)},P=Object(n.useCallback)(function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),a=Object(B.b)(),e.next=4,Object(B.a)(a,t.email,t.password).then(function(){var e=Object(d.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.f)(a.currentUser,{displayName:t.firstName+" "+t.lastName,photoURL:t.photoURL}).then(Object(d.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.h)(Object(ue.c)(he,"users",n.user.uid),{name:{first:t.firstName,last:t.lastName},photoURL:null});case 2:T();case 3:case"end":return e.stop()}}),e)})))).catch((function(e){N.current=e.code,T()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N.current=e.code,T()}));case 4:T();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(L.jsxs)(Y.a,{className:r.content,children:[Object(L.jsx)("div",{className:r.toolbar}),Object(L.jsxs)(ge.a,{className:r.paper,component:Y.a,maxWidth:"xs",elevation:5,children:[Object(L.jsx)("form",{onSubmit:i(P),children:Object(L.jsxs)(A.a,{className:r.container,container:!0,direction:"column",justifyContent:"space-around",spacing:2,children:[Object(L.jsxs)(A.a,{item:!0,align:"center",children:[Object(L.jsx)("img",{className:r.authLogo,alt:"tabp-logo",src:Re}),Object(L.jsx)(F.a,{variant:"h4",children:"Create an account"})]}),Object(L.jsxs)(A.a,{container:!0,direction:"row",spacing:2,children:[Object(L.jsx)(A.a,{item:!0,xs:6,sm:6,children:Object(L.jsx)(we.a,Object(b.a)({required:!0,id:"register-first-name",label:"First Name",type:"text",color:"primary",InputLabelProps:{required:!1}},o("firstName")))}),Object(L.jsx)(A.a,{item:!0,xs:6,sm:6,md:6,lg:6,children:Object(L.jsx)(we.a,Object(b.a)({required:!0,id:"register-last-name",label:"Last Name",type:"text",color:"primary",InputLabelProps:{required:!1}},o("lastName")))})]}),Object(L.jsx)(we.a,Object(b.a)(Object(b.a)({className:r.formControl,required:!0,id:"register-email",type:"email",name:"email",label:"Email Address",placeholder:"example@email.com",InputLabelProps:{required:!1}},o("email",{pattern:{value:/.+@.+\.[A-Za-z]{2,4}$/,message:"This is an invalid email address"}})),{},{error:Boolean(l.email),helperText:null===(e=l.email)||void 0===e?void 0:e.message})),Object(L.jsx)(ye.a,{className:r.formControl,children:Object(L.jsx)(we.a,Object(b.a)(Object(b.a)({required:!0,id:"register-password",type:x?"text":"password",name:"input-reg-password",label:"Password",InputLabelProps:{required:!1},autoComplete:"off",error:Boolean(l.password),helperText:null===(t=l.password)||void 0===t?void 0:t.message},o("password",{minLength:{value:8,message:"Password must have at least 8 characters"}})),{},{InputProps:{endAdornment:Object(L.jsx)(Ne.a,{position:"end",children:Object(L.jsx)(y.a,{"aria-label":"toggle password visibility",onClick:S,onMouseDown:function(e){e.preventDefault()},children:S?Object(L.jsx)(Se.a,{}):Object(L.jsx)(Be.a,{})})})}}))}),Object(L.jsx)(ye.a,{className:r.formControl,children:Object(L.jsx)(we.a,Object(b.a)({required:!0,id:"register-confirm-password",type:x?"text":"password",name:"input-reg-confirm-password",label:"Confirm Password",InputLabelProps:{required:!1},autoComplete:"off",error:Boolean(l.password_confirm),helperText:null===(a=l.password_confirm)||void 0===a?void 0:a.message},o("password_confirm",{validate:function(e){return e===I.current||"The passwords does not match"}})))}),Object(L.jsx)("br",{}),"auth/email-already-in-use"===N.current?Object(L.jsx)(ve.a,{error:!0,children:"This email address has already been taken."}):0!==Object.keys(N.current).length&&"no-error"!==N.current&&Object(L.jsx)(ve.a,{error:!0,children:"An error was encountered on sign up."}),Object(L.jsx)(A.a,{item:!0,align:"center",children:Object(L.jsx)(w.a,{className:r.submitButton,variant:"contained",color:"primary",type:"submit",disableElevation:!0,children:"Register"})}),Object(L.jsxs)(F.a,{variant:"subtitle2",align:"center",children:["Already have an account?",Object(L.jsx)(Ie.a,{component:"button",variant:"subtitle2",onClick:function(){return c.push("/signin")},children:"\xa0Sign In"})]}),Object(L.jsx)("br",{}),Object(L.jsx)(Ie.a,{component:"button",variant:"subtitle2",to:"/",onClick:function(){return c.push("/")},children:"Back to Home"})]})}),Object(L.jsx)(q,{className:r.backdrop,open:k})]})]})},ze=["component"],Ae=["component"],Fe=Object(h.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},toolbar:e.mixins.toolbar}})),De=Object(x.a)({typography:{fontFamily:["Montserrat","sans-serif"].join(",")},palette:{primary:{light:"#50D2D8",main:"#29B3B9",dark:"#1F878C",contrastText:"#fff"},secondary:{light:"#D85650",main:"#B93029",dark:"#8C241F",contrastText:"#fff"}}});var Ee=function(){var e=Fe(),t=Object(n.useState)([]),a=Object(p.a)(t,2),r=(a[0],a[1]),c=Object(n.useState)([]),s=Object(p.a)(c,2),l=s[0],h=s[1],x=Object(n.useState)(!0),g=Object(p.a)(x,2),v=(g[0],g[1]),w=Object(n.useState)(!0),y=Object(p.a)(w,2),k=y[0],C=y[1],N=Object(n.useState)({}),I=Object(p.a)(N,2),S=(I[0],I[1]),B=Object(n.useState)({}),T=Object(p.a)(B,2),P=T[0],R=T[1],q=Object(n.useState)({isLoggedIn:!1}),A=Object(p.a)(q,2),F=A[0],E=A[1],G=Object(n.useRef)(),W=Object(me.a)(),H=Object(n.useRef)("loading");Object(me.b)(W,(function(e){H.current=Boolean(e)?"loggedin":"redirect",E(e)}));var U=function(e){var t=e.component,a=Object(u.a)(e,ze);return Object(L.jsx)(m.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){return"loggedin"===H?Object(L.jsx)(t,Object(b.a)({},e)):"loading"!==H&&Object(L.jsx)(m.a,{to:"/authenticate"})}}))},J=function(e){var t=e.component,a=Object(u.a)(e,Ae);return Object(L.jsx)(m.b,Object(b.a)(Object(b.a)({},a),{},{render:function(e){return"loggedin"!==H?Object(L.jsx)(t,Object(b.a)({},e)):"loading"!==H&&Object(L.jsx)(m.a,{to:"/"})}}))},_=function(){S({open:!1}),R({open:!1})},M=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ue.a)(he,"products"),e.next=3,Object(ue.e)(t);case 3:(a=e.sent).empty?console.log("Product documents does not exist!"):(n=a.docs.map((function(e){return Object(b.a)(Object(b.a)({},e.data()),{},{id:e.id})})),r(n),v(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,n,r,c,s,o,l,d;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null!=F?null!=F.uid&&F.uid:"",e.next=3,Object(ue.g)(Object(ue.a)(he,"cart"),Object(ue.j)("userID","==",t));case 3:return a=e.sent,e.next=6,Object(ue.e)(a);case 6:if(n=e.sent,r=[],n.empty){e.next=32;break}c=Object(i.a)(n.docs),e.prev=10,c.s();case 12:if((s=c.n()).done){e.next=21;break}return o=s.value,l=Object(ue.c)(he,"products",o.data().productID),e.next=17,Object(ue.d)(l);case 17:d=e.sent,r.push(Object(b.a)(Object(b.a)({product:d.data()},o.data()),{},{id:o.id}));case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(10),c.e(e.t0);case 26:return e.prev=26,c.f(),e.finish(26);case 29:h(r),e.next=34;break;case 32:console.log("Cart documents does not exist!"),h({});case 34:C(!1);case 35:case"end":return e.stop()}}),e,null,[[10,23,26,29]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(d.a)(j.a.mark((function e(t,a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ue.c)(he,"cart",t.id),e.next=3,Object(ue.d)(n);case 3:if(r=e.sent,t.quantity=a,!r.exists()){e.next=11;break}return e.next=8,Object(ue.i)(n,{quantity:a});case 8:h(Object(o.a)(l)),e.next=12;break;case 11:R({open:!0,addStatus:!1});case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(d.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(ue.c)(he,"cart",t),e.next=3,Object(ue.d)(a);case 3:if(!e.sent.exists()){e.next=10;break}return e.next=7,Object(ue.b)(a);case 7:h(l.filter((function(e){return e.id!==t}))),e.next=11;break;case 10:R({open:!0,addStatus:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(d.a)(j.a.mark((function e(){var t,a,n,r,c,s,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(ue.a)(he,"cart"),e.next=3,Object(ue.g)(t,Object(ue.j)("userID","==",F.uid));case 3:return a=e.sent,e.next=6,Object(ue.e)(a);case 6:if((n=e.sent).empty){e.next=34;break}r=Object(i.a)(n.docs),e.prev=9,r.s();case 11:if((c=r.n()).done){e.next=22;break}return s=c.value,o=Object(ue.c)(t,s.id),e.next=16,Object(ue.d)(o);case 16:if(!e.sent.exists()){e.next=20;break}return e.next=20,Object(ue.b)(o);case 20:e.next=11;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(9),r.e(e.t0);case 27:return e.prev=27,r.f(),e.finish(27);case 30:h([]),R({open:!0,addStatus:!1,delete:!0}),e.next=35;break;case 34:R({open:!0,addStatus:!1,delete:!1});case 35:case"end":return e.stop()}}),e,null,[[9,24,27,30]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(d.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(me.a)().currentUser;case 3:t=e.sent,H.current=Boolean(t)?"loggedin":"loading",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),H.current="redirect";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))(),E(F),M(),null!=F&&Y()}),[]),Object(L.jsx)("div",{className:e.root,children:Object(L.jsx)(fe,{children:Object(L.jsx)(O.a,{children:"loading"===H?Object(L.jsxs)(L.Fragment,{children:[" ",Object(L.jsx)("div",{className:e.toolbar})," ",Object(L.jsx)(D,{message:"Getting things ready..."})," "]}):Object(L.jsx)(L.Fragment,{children:Object(L.jsxs)(f.a,{theme:De,children:[Object(L.jsx)(z,{loadingRef:G,cartTotal:Array.isArray(l)?l.length:0!==Object.keys(l).length?1:0,userInfo:F}),Object(L.jsxs)(m.d,{children:[Object(L.jsx)(J,{exact:!0,path:"/signup",loadingRef:G,userInfo:F,component:qe}),Object(L.jsx)(J,{exact:!0,path:"/signin",loadingRef:G,userInfo:F,component:Le}),Object(L.jsx)(m.b,{exact:!0,path:"/",component:function(){return Object(L.jsx)(be,{})}}),Object(L.jsx)(U,{exact:!0,path:"/cart",component:function(){return Object(L.jsx)(oe,{loadingRef:G,userInfo:F,cart:l,updateCart:Q,removeFromCart:Z,emptyCart:$,loading:k,alertProps:P,handleSnackbarClose:_})}}),Object(L.jsx)(m.b,{component:V})]})]})})})})})},Ge=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,202)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(L.jsx)(Ee,{}),document.getElementById("root")),Ge()}},[[130,1,2]]]);
//# sourceMappingURL=main.aaa3bbf1.chunk.js.map