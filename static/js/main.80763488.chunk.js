(this["webpackJsonpe-merch"]=this["webpackJsonpe-merch"]||[]).push([[0],{118:function(e,t,a){},120:function(e,t,a){},131:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),i=a.n(c),o=(a(118),a(18)),s=a(21),l=a(1),d=a.n(l),b=a(5),j=a(17),u=a(8),p=a(15),m=(a(120),a(26)),h=a(34),O=a(163),g=a(103),x=a(197),f=a(168),v=a(169),w=a(170),y=a(171),k=a(172),C=a(173),S=a(4),N=a(28),I=Object(O.a)((function(e){return{appBar:Object(S.a)({backgroundColor:"rgba(0, 0, 0, 0.4)",boxShadow:"none"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(0,"px)"),marginLeft:0}),title:{flexGrow:1,alignItems:"center",display:"flex",textDecoration:"none"},image:{marginRight:"10px"},menuButton:Object(S.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),grow:{flexGrow:1},search:Object(S.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(N.a)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(N.a)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(S.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"}),logo:{width:"135px",height:"50px"},authButton:{marginRight:"0.7rem"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),B=a(40),T=a.p+"static/media/logo-white-on-transparent.f80f3dc7.png",R=a(132),z=a(167),P=a(3),L=function(e){return Object(P.jsx)(R.a,Object(j.a)(Object(j.a)({},e),{},{children:Object(P.jsx)(z.a,{color:"inherit"})}))},E=function(e){var t=e.cartTotal,a=e.userInfo,r=I(),c=Object(m.g)(),i=Object(m.h)(),o=Object(n.useState)(!1),s=Object(p.a)(o,2),l=s[0],d=s[1];return Object(n.useEffect)((function(){d(!1)}),[]),"/tabp-clothing/signin"!==i.pathname&&"/tabp-clothing/signup"!==i.pathname&&Object(P.jsx)(f.a,{className:r.appBar,position:"fixed",elevation:0,children:Object(P.jsxs)(v.a,{disableGutters:!0,children:[Object(P.jsx)(w.a,{component:h.b,to:"/tabp-clothing",children:Object(P.jsx)("img",{className:r.logo,alt:"tabp-logo",src:T})}),Object(P.jsx)("div",{className:r.grow}),a?Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)("div",{className:r.button,children:Object(P.jsx)(y.a,{"aria-label":"Show cart items",color:"inherit",component:h.b,to:"/tabp-clothing/cart",children:Object(P.jsx)(k.a,{badgeContent:t,color:"secondary",children:Object(P.jsx)(C.a,{})})})}),Object(P.jsx)(w.a,{className:r.authButton,color:"inherit",onClick:function(){d(!0);try{Object(B.e)(Object(B.b)()),c.push("/")}catch(e){alert(e.message)}},children:"Logout"})]}):Object(P.jsxs)(P.Fragment,{children:[" ",Object(P.jsx)(w.a,{color:"inherit",component:h.b,to:"/tabp-clothing/signin",children:"SIGN IN"}),Object(P.jsx)(w.a,{className:r.authButton,color:"inherit",component:h.b,to:"/tabp-clothing/signup",children:"REGISTER"})," "]}),Object(P.jsx)(L,{className:r.backdrop,open:l})]})})},A=a(174),F=a(77),q=function(e){var t=e.message;return Object(P.jsxs)(A.a,{container:!0,direction:"column",alignItems:"center",justifyContent:"center",style:{minHeight:"25vh"},children:[Object(P.jsx)(z.a,{}),Object(P.jsx)("br",{}),Object(P.jsx)(F.a,{variant:"h5",gutterBottom:!0,children:t})]})},D=a(177),G=a(178),H=a(179),W=a(180),U=(a(181),Object(O.a)((function(e){return{root:{maxWidth:"100%"},media:{height:0,paddingTop:"90%"},cardActions:{display:"flex",justifyContent:"flex-end"},cardContent:{display:"flex",justifyContent:"space-between"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),a(175)),J=a(200),Y=a(199),_=function(e){var t=e.alertProps,a=e.handleClose,n=e.severity,r=e.message,c=e.variant;return Object(P.jsx)(J.a,{open:t.open,anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:3e3,onClose:a,TransitionComponent:function(e){return Object(P.jsx)(U.a,Object(j.a)(Object(j.a)({},e),{},{direction:"left"}))},disableWindowBlurListener:!0,children:Object(P.jsx)(Y.a,{onClose:a,severity:n,variant:c,sx:{width:"100%"},children:r})})},M=(Object(O.a)((function(e){return{root:{flexGrow:1},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}})),function(){return Object(P.jsx)(A.a,{container:!0,spacing:0,direction:"row",alignItems:"center",justify:"center",style:{minHeight:"100vh"},children:Object(P.jsxs)(A.a,{item:!0,children:[Object(P.jsx)("h3",{children:"Error 404: Page not found!"}),Object(P.jsx)(h.b,{to:"/tabp-clothing",children:"Go back to home page"})]})})}),V=a(182),Q=a(183),Z=a(184),$=a(185),K=a(186),X=a(187),ee=Object(O.a)((function(e){var t;return{toolbar:e.mixins.toolbar,title:{marginTop:"3%"},emptyButton:(t={minWidth:"150px"},Object(S.a)(t,e.breakpoints.down("xs"),{marginBottom:"5px"}),Object(S.a)(t,e.breakpoints.up("xs"),{marginRight:"20px"}),t),checkoutButton:{minWidth:"150px"},link:{textDecoration:"none"},cardDetails:{display:"flex",marginTop:"10%",width:"100%",justifyContent:"space-between"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),te=Object(O.a)((function(e){return{media:{height:260},cardContent:{display:"flex",justifyContent:"space-between"},cartActions:{justifyContent:"space-between"},buttons:{display:"flex",alignItems:"center"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),ae=a(101),ne=a.n(ae),re=a(100),ce=a.n(re),ie=function(e){var t=e.item,a=e.updateCart,r=e.removeFromCart,c=e.alertProps,i=e.handleSnackbarClose,o=te(),s=Object(n.useState)(!0),l=Object(p.a)(s,2),d=l[0],b=l[1],j=Object(n.useState)(!1),u=Object(p.a)(j,2),m=u[0],h=u[1];Object(n.useEffect)((function(){d||(c.open=!1),b(!1),O()}),[c,d]);var O=function(){h(!1)},g=function(){h(!0)};return Object(P.jsxs)(D.a,{children:[Object(P.jsx)(G.a,{image:t.product.image,alt:t.product.name,className:o.media}),Object(P.jsxs)(H.a,{className:o.cardContent,children:[Object(P.jsx)(F.a,{variant:"h6",children:t.product.name}),Object(P.jsxs)(F.a,{variant:"h6",children:["\u20b1\xa0",t.product.price]})]}),Object(P.jsxs)(W.a,{className:o.CardActions,children:[Object(P.jsxs)("div",{className:o.buttons,children:[Object(P.jsx)(y.a,{"aria-label":"Subtract Quantity",size:"medium",disabled:1===t.quantity,onClick:function(){a(t,t.quantity-1),g()},children:Object(P.jsx)(ce.a,{})}),Object(P.jsx)(F.a,{children:t.quantity}),Object(P.jsx)(y.a,{"aria-label":"Add Quantity",size:"medium",onClick:function(){a(t,t.quantity+1),g()},children:Object(P.jsx)(ne.a,{})}),!c.addStatus&&Object(P.jsx)(_,{alertProps:c,handleClose:i,severity:"error",variant:"filled",message:"An error has occcured!"}),Object(P.jsx)(L,{className:o.backdrop,open:m})]}),Object(P.jsx)(w.a,{variant:"contained",type:"button",color:"secondary",size:"small",onClick:function(){r(t.id),g()},children:"Remove"})]})]})},oe=function(e){e.userId;var t=e.cart,a=e.updateCart,c=e.removeFromCart,i=e.emptyCart,o=e.loading,s=e.alertProps,l=e.handleSnackbarClose;var d=ee(),b=Object(n.useState)(0),u=Object(p.a)(b,2),m=u[0],O=u[1],g=Object(n.useState)(!1),x=Object(p.a)(g,2),f=x[0],v=x[1],y=Object(n.useState)(!1),k=Object(p.a)(y,2),C=k[0],S=k[1],N=r.a.forwardRef((function(e,t){return Object(P.jsx)(U.a,Object(j.a)({direction:"up",ref:t},e))})),I=function(){v(!0)},B=function(){v(!1)},T=function(){return Object(P.jsxs)(F.a,{variant:"subtitle1",gutterBottom:!0,children:["There are no items in your cart.",Object(P.jsx)("br",{}),Object(P.jsx)(h.b,{to:"/tabp-clothing",children:"Shop now!"})]})};Object(n.useEffect)((function(){if(t.length){var e=t.reduce((function(e,t){return e+t.product.price*t.quantity}),0);O(e)}S(!1)}),[t]);var R=function(){return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(A.a,{container:!0,spacing:3,children:t.map((function(e){return Object(P.jsx)(A.a,{item:!0,xs:6,sm:4,md:4,lg:3,children:Object(P.jsx)(ie,{item:e,updateCart:a,removeFromCart:c,alertProps:s,handleSnackbarClose:l})},e.id)}))}),Object(P.jsxs)("div",{className:d.cardDetails,children:[Object(P.jsxs)(F.a,{variant:"h5",children:["Subtotal: \u20b1\xa0",m]}),Object(P.jsxs)("div",{children:[Object(P.jsx)(w.a,{className:d.emptyButton,size:"small",type:"button",variant:"contained",color:"secondary",onClick:I,children:"Empty Cart"}),Object(P.jsx)(w.a,{className:d.checkoutButton,size:"small",type:"button",variant:"contained",color:"primary",children:"Checkout"}),Object(P.jsxs)(Q.a,{open:f,TransitionComponent:N,keepMounted:!0,onClose:B,"aria-describedby":"alert-dialog-slide-description",children:[Object(P.jsx)(Z.a,{id:"alert-dialog-slide-title",children:"Remove Items"}),Object(P.jsx)($.a,{children:Object(P.jsx)(K.a,{id:"alert-dialog-slide-description",children:"Are you sure you want to remove all the items from your cart?"})}),Object(P.jsxs)(X.a,{children:[Object(P.jsx)(w.a,{onClick:B,color:"secondary",children:"Cancel"}),Object(P.jsx)(w.a,{color:"primary",variant:"contained",onClick:function(){i("user-arckie"),B(),S(!0)},children:"Yes"})]})]})]})]})]})};return Object(P.jsxs)(V.a,{children:[Object(P.jsx)("div",{className:d.toolbar}),Object(P.jsx)(F.a,{className:d.title,variant:"h4",gutterBottom:!0,children:"Cart"}),o?Object(P.jsx)(q,{message:"Loading Cart..."}):t.length?Object(P.jsx)(R,{}):Object(P.jsx)(T,{}),s.delete?Object(P.jsx)(_,{alertProps:s,handleClose:l,severity:"success",variant:"filled",message:"Emptied the cart successfully!"}):Object(P.jsx)(_,{alertProps:s,handleClose:l,severity:"error",variant:"filled",message:"An error has occcured!"}),Object(P.jsx)(L,{className:d.backdrop,open:C})]})},se=a(188),le=a(189),de=a(87),be=a.p+"static/media/group-mountain-1.808178a4.jpg",je=function(e){var t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],c=a[1];return Object(n.useLayoutEffect)((function(){function t(){var t=window.document.getElementById(e).offsetHeight;console.log("window page offset",window.pageYOffset,t),window.pageYOffset>.7*t&&c(!0)}return window.addEventListener("scroll",t),t(),function(){return window.removeEventListener("scroll",t)}}),[e]),r},ue=Object(O.a)((function(e){var t,a,n,r;return{root:{flex:1,justifyContent:"center",alignItems:"center",minHeight:"100vh",height:"100vh"},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},headerContainer:(t={flex:1,height:"100vh",overflow:"hidden",color:"#fff",textAlign:"left",alignContent:"center",justifyContent:"center",paddingLeft:"10em",paddingRight:"10em",paddingTop:"25em"},Object(S.a)(t,e.breakpoints.down("lg"),{height:"100vh",paddingLeft:"7em",paddingRight:"7em"}),Object(S.a)(t,e.breakpoints.down("md"),{height:"100vh",paddingLeft:"7em",paddingRight:"7em",paddingTop:"30vh"}),Object(S.a)(t,e.breakpoints.down("sm"),{height:"35em",paddingLeft:"3em",paddingRight:"3em",paddingTop:"11em",minHeight:"25em"}),Object(S.a)(t,e.breakpoints.down("xs"),{height:"25em",paddingLeft:"3em",paddingRight:"3em",paddingTop:"7em",minHeight:"25em"}),t),darkBG:{backgroundColor:"rgba(0, 0, 0, 0.17)"},headerTitle:(a={fontFamily:"Podkova",fontSize:"8rem"},Object(S.a)(a,e.breakpoints.down("lg"),{fontSize:"8rem"}),Object(S.a)(a,e.breakpoints.down("md"),{fontSize:"7rem"}),Object(S.a)(a,e.breakpoints.down("sm"),{fontSize:"4rem"}),Object(S.a)(a,e.breakpoints.down("xs"),{fontSize:"3rem"}),a),headerTitle2:(n={fontFamily:"Podkova",fontSize:"5rem"},Object(S.a)(n,e.breakpoints.down("lg"),{fontSize:"5rem"}),Object(S.a)(n,e.breakpoints.down("md"),{fontSize:"4rem"}),Object(S.a)(n,e.breakpoints.down("sm"),{fontSize:"2.5rem"}),Object(S.a)(n,e.breakpoints.down("xs"),{fontSize:"2rem"}),n),headerSubtitle:(r={fontSize:"1.5rem"},Object(S.a)(r,e.breakpoints.down("lg"),{fontSize:"1.5rem"}),Object(S.a)(r,e.breakpoints.down("md"),{fontSize:"1rem"}),r),about:{height:"32em",textAlign:"center",padding:"7em",backgroundColor:"rgb(201,240,241)",background:"linear-gradient(180deg, rgba(194,246,249,0.6) 7%, rgba(241,251,251,0.75) 48%, rgba(200,250,252,0.60) 94%)"},products:{}}})),pe=Object(n.memo)((function(){var e=ue(),t=Object(n.useState)(!1),a=Object(p.a)(t,2),r=a[0],c=a[1],i=je("about-section");console.log("re-rendered home");return Object(n.useEffect)((function(){c(!0)}),[]),Object(P.jsxs)("div",{className:e.root,children:[Object(P.jsx)(de.Parallax,{className:e.header,bgImage:be,bgImageAlt:"Explore Style",children:Object(P.jsx)("div",{className:e.darkBG,children:Object(P.jsx)(V.a,{className:e.headerContainer,direction:"column",children:Object(P.jsx)(U.a,Object(j.a)(Object(j.a)({direction:"up",in:r},r&&{timeout:1e3}),{},{children:Object(P.jsxs)(A.a,{item:!0,children:[Object(P.jsx)(F.a,{className:e.headerTitle,variant:"h1",children:"Tela At Iba Pa"}),Object(P.jsx)(F.a,{className:e.headerTitle2,variant:"h3",children:"Clothing Company"}),Object(P.jsx)(F.a,{className:e.headerSubtitle,variant:"subtitle1",children:"Explore your style. Never be afraid to express yourself through fashion."})]})}))})})}),Object(P.jsx)("div",{className:e.about,children:Object(P.jsxs)(V.a,{id:"about-section",direction:"column",children:[Object(P.jsx)(U.a,Object(j.a)(Object(j.a)({direction:"right",in:i},i&&{timeout:1e3}),{},{children:Object(P.jsx)(F.a,{className:e.headerTitle2,variant:"h3",children:"This website is still a work in progress"})})),Object(P.jsx)(U.a,Object(j.a)(Object(j.a)({direction:"left",in:i},i&&{timeout:1e3}),{},{children:Object(P.jsxs)(F.a,{variant:"h5",children:["The ",Object(P.jsx)("b",{children:"tabp"})," development team will be adding more exciting features very soon!"]})}))]})}),Object(P.jsx)(de.Parallax,{className:e.products,bgImage:be,strength:600,bgImageAlt:"Products",children:Object(P.jsx)(V.a,{className:e.productsContainer,direction:"column",children:Object(P.jsx)(se.a,Object(j.a)(Object(j.a)({in:r},r&&{timeout:1e3}),{},{children:Object(P.jsx)(A.a,{item:!0,children:Object(P.jsx)(F.a,{className:e.headerTitle2,variant:"h3",children:"This is the products section of the home page"})})}))})}),Object(P.jsx)("div",{className:e.section1}),Object(P.jsx)(le.a,{})]})})),me=a(22),he=a(102),Oe=a(51),ge=Object(he.a)({apiKey:"AIzaSyBXYRCWPfym0rOJVrhh9l5hTV0NJu__wao",authDomain:"merch-shop-a28ac.firebaseapp.com",projectId:"merch-shop-a28ac",storageBucket:"merch-shop-a28ac.appspot.com",messagingSenderId:"68282669607",appId:"1:68282669607:web:2d6ba926d44a9fa87fcc02",measurementId:"G-0VB1S418J8"}),xe=Object(me.f)(ge),fe=Object(n.createContext)(),ve=function(e){var t=Object(n.useState)(),a=Object(p.a)(t,2),r=a[0],c=a[1],i=Object(n.useState)(),o=Object(p.a)(i,2),s=o[0],l=o[1];return Object(n.useEffect)((function(){var e=Object(Oe.b)(Object(Oe.a)(),c,l);return function(){return e()}}),[]),Object(P.jsx)(fe.Provider,Object(j.a)({value:{user:r,error:s}},e))},we=a(88),ye=a(190),ke=a(198),Ce=a(192),Se=a(201),Ne=a(191),Ie=a(193),Be=a(196),Te=a(194),Re=a(195),ze=a(76),Pe=Object(O.a)((function(e){return{root:{flexGrow:1},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,paddingTop:"2%"},paper:{height:"42em",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"5%"},container:{paddingBottom:e.spacing(10),paddingTop:e.spacing(8),padding:e.spacing(4)},formControl:{marginTop:e.spacing(2)},submitButton:{marginTop:e.spacing(4),marginBottom:e.spacing(1),borderRadius:"1.5em",width:"13em"},authLogo:{width:"55%",height:"55%",marginBottom:"1rem"},backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}}})),Le=a.p+"static/media/tabp-black-on-transparent.6cd6e039.png",Ee=function(e){var t,a=e.prevPath,r=Pe(),c=Object(m.g)(),i=Object(n.useState)(!1),o=Object(p.a)(i,2),s=o[0],l=o[1],u=Object(ze.a)({}),h=u.register,O=u.handleSubmit,g=u.formState.errors,x=Object(n.useState)(!1),f=Object(p.a)(x,2),v=f[0],k=f[1],C=Object(n.useState)(!1),S=Object(p.a)(C,2),N=S[0],I=S[1];console.log("ang path",a);var T=Object(n.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),a=Object(B.b)(),e.prev=2,e.next=5,Object(B.d)(a,t.email,t.password).then((function(e){})).catch((function(e){console.log("Error encountered signing in!")}));case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),l(!0),I(!1);case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(P.jsxs)(V.a,{className:r.content,children:[Object(P.jsx)("div",{className:r.toolbar}),Object(P.jsxs)(we.a,{className:r.paper,component:V.a,maxWidth:"xs",elevation:5,children:[Object(P.jsx)("form",{onSubmit:O(T),children:Object(P.jsxs)(A.a,{className:r.container,container:!0,direction:"column",justifyContent:"space-around",spacing:2,children:[Object(P.jsxs)(A.a,{item:!0,align:"center",children:[Object(P.jsx)("img",{className:r.authLogo,alt:"tabp-logo",src:Le}),Object(P.jsx)(F.a,{variant:"h4",align:"center",children:"Shop Now"}),Object(P.jsx)(F.a,{variant:"caption",align:"center",children:"Sign in with your account to start shopping!"})]}),s&&Object(P.jsx)(ye.a,{error:!0,children:"Sign in failed. Your email/password is incorrect."}),Object(P.jsx)(ke.a,Object(j.a)(Object(j.a)({className:r.formControl,required:!0,id:"login-email",type:"email",name:"email",label:"Email Address",placeholder:"example@email.com",InputLabelProps:{required:!1}},h("email",{pattern:{value:/.+@.+\.[A-Za-z]{2,4}$/,message:"This is an invalid email address"}})),{},{error:Boolean(g.email),helperText:null===(t=g.email)||void 0===t?void 0:t.message})),Object(P.jsxs)(Ce.a,{className:r.formControl,children:[Object(P.jsx)(Se.a,{htmlFor:"login-password",children:"Password"}),Object(P.jsx)(Ne.a,Object(j.a)(Object(j.a)({id:"login-password",required:!0,type:v?"text":"password"},h("password")),{},{endAdornment:Object(P.jsx)(Ie.a,{position:"end",children:Object(P.jsx)(y.a,{"aria-label":"toggle password visibility",onClick:function(){k(!v)},onMouseDown:function(e){e.preventDefault()},children:v?Object(P.jsx)(Te.a,{}):Object(P.jsx)(Re.a,{})})})}))]}),Object(P.jsx)("br",{}),Object(P.jsx)(Be.a,{component:"button",align:"right",variant:"subtitle2",onClick:function(){return console.log("Insert forgot passwod functionality here.")},children:"Forgot password?"}),Object(P.jsx)(A.a,{item:!0,align:"center",children:Object(P.jsx)(w.a,{className:r.submitButton,variant:"contained",color:"primary",type:"submit",disableElevation:!0,children:"Sign In"})}),Object(P.jsxs)(F.a,{variant:"subtitle2",align:"center",children:["Don't have an account?",Object(P.jsx)(Be.a,{component:"button",variant:"subtitle2",onClick:function(){return c.push("/tabp-clothing/signup")},children:"\xa0Sign Up"})]}),Object(P.jsx)("br",{}),Object(P.jsx)(Be.a,{component:"button",variant:"subtitle2",onClick:function(){return c.push("/tabp-clothing")},children:"Back to Home"})]})}),Object(P.jsx)(L,{className:r.backdrop,open:N})]})]})},Ae=function(){var e,t,a,r=Pe(),c=Object(m.g)(),i=Object(ze.a)({}),o=i.register,s=i.handleSubmit,l=i.formState.errors,u=i.watch,h=Object(n.useState)(!1),O=Object(p.a)(h,2),g=O[0],x=O[1],f=Object(n.useState)(!1),v=Object(p.a)(f,2),k=v[0],C=v[1],S=Object(n.useRef)({}),N=Object(n.useRef)({});N.current=u("password","");var I=function(){x(!g)},T=function(){C(!1)},R=Object(n.useCallback)(function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),a=Object(B.b)(),e.next=4,Object(B.a)(a,t.email,t.password).then(function(){var e=Object(b.a)(d.a.mark((function e(n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(B.f)(a.currentUser,{displayName:t.firstName+" "+t.lastName,photoURL:t.photoURL}).then(Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(me.h)(Object(me.c)(xe,"users",n.user.uid),{name:{first:t.firstName,last:t.lastName},photoURL:null});case 2:T();case 3:case"end":return e.stop()}}),e)})))).catch((function(e){S.current=e.code,T()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){S.current=e.code,T()}));case 4:T();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(P.jsxs)(V.a,{className:r.content,children:[Object(P.jsx)("div",{className:r.toolbar}),Object(P.jsxs)(we.a,{className:r.paper,component:V.a,maxWidth:"xs",elevation:5,children:[Object(P.jsx)("form",{onSubmit:s(R),children:Object(P.jsxs)(A.a,{className:r.container,container:!0,direction:"column",justifyContent:"space-around",spacing:2,children:[Object(P.jsxs)(A.a,{item:!0,align:"center",children:[Object(P.jsx)("img",{className:r.authLogo,alt:"tabp-logo",src:Le}),Object(P.jsx)(F.a,{variant:"h4",children:"Create an account"})]}),Object(P.jsxs)(A.a,{container:!0,direction:"row",spacing:2,children:[Object(P.jsx)(A.a,{item:!0,xs:6,sm:6,children:Object(P.jsx)(ke.a,Object(j.a)({required:!0,id:"register-first-name",label:"First Name",type:"text",color:"primary",InputLabelProps:{required:!1}},o("firstName")))}),Object(P.jsx)(A.a,{item:!0,xs:6,sm:6,md:6,lg:6,children:Object(P.jsx)(ke.a,Object(j.a)({required:!0,id:"register-last-name",label:"Last Name",type:"text",color:"primary",InputLabelProps:{required:!1}},o("lastName")))})]}),Object(P.jsx)(ke.a,Object(j.a)(Object(j.a)({className:r.formControl,required:!0,id:"register-email",type:"email",name:"email",label:"Email Address",placeholder:"example@email.com",InputLabelProps:{required:!1}},o("email",{pattern:{value:/.+@.+\.[A-Za-z]{2,4}$/,message:"This is an invalid email address"}})),{},{error:Boolean(l.email),helperText:null===(e=l.email)||void 0===e?void 0:e.message})),Object(P.jsx)(Ce.a,{className:r.formControl,children:Object(P.jsx)(ke.a,Object(j.a)(Object(j.a)({required:!0,id:"register-password",type:g?"text":"password",name:"input-reg-password",label:"Password",InputLabelProps:{required:!1},autoComplete:"off",error:Boolean(l.password),helperText:null===(t=l.password)||void 0===t?void 0:t.message},o("password",{minLength:{value:8,message:"Password must have at least 8 characters"}})),{},{InputProps:{endAdornment:Object(P.jsx)(Ie.a,{position:"end",children:Object(P.jsx)(y.a,{"aria-label":"toggle password visibility",onClick:I,onMouseDown:function(e){e.preventDefault()},children:I?Object(P.jsx)(Te.a,{}):Object(P.jsx)(Re.a,{})})})}}))}),Object(P.jsx)(Ce.a,{className:r.formControl,children:Object(P.jsx)(ke.a,Object(j.a)({required:!0,id:"register-confirm-password",type:g?"text":"password",name:"input-reg-confirm-password",label:"Confirm Password",InputLabelProps:{required:!1},autoComplete:"off",error:Boolean(l.password_confirm),helperText:null===(a=l.password_confirm)||void 0===a?void 0:a.message},o("password_confirm",{validate:function(e){return e===N.current||"The passwords does not match"}})))}),Object(P.jsx)("br",{}),"auth/email-already-in-use"===S.current?Object(P.jsx)(ye.a,{error:!0,children:"This email address has already been taken."}):0!==Object.keys(S.current).length&&"no-error"!==S.current&&Object(P.jsx)(ye.a,{error:!0,children:"An error was encountered on sign up."}),Object(P.jsx)(A.a,{item:!0,align:"center",children:Object(P.jsx)(w.a,{className:r.submitButton,variant:"contained",color:"primary",type:"submit",disableElevation:!0,children:"Register"})}),Object(P.jsxs)(F.a,{variant:"subtitle2",align:"center",children:["Already have an account?",Object(P.jsx)(Be.a,{component:"button",variant:"subtitle2",onClick:function(){return c.push("/tabp-clothing/signin")},children:"\xa0Sign In"})]}),Object(P.jsx)("br",{}),Object(P.jsx)(Be.a,{component:"button",variant:"subtitle2",onClick:function(){return c.push("/tabp-clothing")},children:"Back to Home"})]})}),Object(P.jsx)(L,{className:r.backdrop,open:k})]})]})},Fe=["component"],qe=["component"],De=Object(O.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},toolbar:e.mixins.toolbar}})),Ge=Object(g.a)({typography:{fontFamily:["Montserrat","sans-serif"].join(",")},palette:{primary:{light:"#50D2D8",main:"#29B3B9",dark:"#1F878C",contrastText:"#fff"},secondary:{light:"#D85650",main:"#B93029",dark:"#8C241F",contrastText:"#fff"}}});var He=function(){var e=De(),t=Object(n.useState)([]),a=Object(p.a)(t,2),r=(a[0],a[1]),c=Object(n.useState)([]),i=Object(p.a)(c,2),l=i[0],O=i[1],g=Object(n.useState)(!0),f=Object(p.a)(g,2),v=(f[0],f[1]),w=Object(n.useState)(!0),y=Object(p.a)(w,2),k=y[0],C=y[1],S=Object(n.useState)({}),N=Object(p.a)(S,2),I=(N[0],N[1]),B=Object(n.useState)({}),T=Object(p.a)(B,2),R=T[0],z=T[1],L=Object(n.useState)({isLoggedIn:!1}),A=Object(p.a)(L,2),F=A[0],D=A[1],G=Object(n.useRef)(),H=Object(Oe.a)(),W=Object(n.useRef)("loading");Object(Oe.b)(H,(function(e){W.current=Boolean(e)?"loggedin":"redirect",D(e)}));var U=function(e){var t=e.component,a=Object(u.a)(e,Fe);return Object(P.jsx)(m.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return"loggedin"===W?Object(P.jsx)(t,Object(j.a)({},e)):"loading"!==W&&Object(P.jsx)(m.a,{to:"/authenticate"})}}))},J=function(e){var t=e.component,a=Object(u.a)(e,qe);return Object(P.jsx)(m.b,Object(j.a)(Object(j.a)({},a),{},{render:function(e){return"loggedin"!==W?Object(P.jsx)(t,Object(j.a)({},e)):"loading"!==W&&Object(P.jsx)(m.a,{to:"/"})}}))},Y=function(){I({open:!1}),z({open:!1})},_=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(me.a)(xe,"products"),e.next=3,Object(me.e)(t);case 3:(a=e.sent).empty?console.log("Product documents does not exist!"):(n=a.docs.map((function(e){return Object(j.a)(Object(j.a)({},e.data()),{},{id:e.id})})),r(n),v(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,n,r,c,i,o,l,b;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=null!=F?null!=F.uid&&F.uid:"",e.next=3,Object(me.g)(Object(me.a)(xe,"cart"),Object(me.j)("userID","==",t));case 3:return a=e.sent,e.next=6,Object(me.e)(a);case 6:if(n=e.sent,r=[],n.empty){e.next=32;break}c=Object(s.a)(n.docs),e.prev=10,c.s();case 12:if((i=c.n()).done){e.next=21;break}return o=i.value,l=Object(me.c)(xe,"products",o.data().productID),e.next=17,Object(me.d)(l);case 17:b=e.sent,r.push(Object(j.a)(Object(j.a)({product:b.data()},o.data()),{},{id:o.id}));case 19:e.next=12;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(10),c.e(e.t0);case 26:return e.prev=26,c.f(),e.finish(26);case 29:O(r),e.next=34;break;case 32:console.log("Cart documents does not exist!"),O({});case 34:C(!1);case 35:case"end":return e.stop()}}),e,null,[[10,23,26,29]])})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(d.a.mark((function e(t,a){var n,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(me.c)(xe,"cart",t.id),e.next=3,Object(me.d)(n);case 3:if(r=e.sent,t.quantity=a,!r.exists()){e.next=11;break}return e.next=8,Object(me.i)(n,{quantity:a});case 8:O(Object(o.a)(l)),e.next=12;break;case 11:z({open:!0,addStatus:!1});case 12:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(b.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(me.c)(xe,"cart",t),e.next=3,Object(me.d)(a);case 3:if(!e.sent.exists()){e.next=10;break}return e.next=7,Object(me.b)(a);case 7:O(l.filter((function(e){return e.id!==t}))),e.next=11;break;case 10:z({open:!0,addStatus:!1});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(b.a)(d.a.mark((function e(){var t,a,n,r,c,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Object(me.a)(xe,"cart"),e.next=3,Object(me.g)(t,Object(me.j)("userID","==",F.uid));case 3:return a=e.sent,e.next=6,Object(me.e)(a);case 6:if((n=e.sent).empty){e.next=34;break}r=Object(s.a)(n.docs),e.prev=9,r.s();case 11:if((c=r.n()).done){e.next=22;break}return i=c.value,o=Object(me.c)(t,i.id),e.next=16,Object(me.d)(o);case 16:if(!e.sent.exists()){e.next=20;break}return e.next=20,Object(me.b)(o);case 20:e.next=11;break;case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(9),r.e(e.t0);case 27:return e.prev=27,r.f(),e.finish(27);case 30:O([]),z({open:!0,addStatus:!1,delete:!0}),e.next=35;break;case 34:z({open:!0,addStatus:!1,delete:!1});case 35:case"end":return e.stop()}}),e,null,[[9,24,27,30]])})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Oe.a)().currentUser;case 3:t=e.sent,W.current=Boolean(t)?"loggedin":"loading",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),W.current="redirect";case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))(),D(F),_(),null!=F&&V()}),[]),Object(P.jsx)("div",{className:e.root,children:Object(P.jsx)(ve,{children:Object(P.jsx)(h.a,{children:"loading"===W?Object(P.jsxs)(P.Fragment,{children:[" ",Object(P.jsx)("div",{className:e.toolbar})," ",Object(P.jsx)(q,{message:"Getting things ready..."})," "]}):Object(P.jsx)(P.Fragment,{children:Object(P.jsxs)(x.a,{theme:Ge,children:[Object(P.jsx)(E,{loadingRef:G,cartTotal:Array.isArray(l)?l.length:0!==Object.keys(l).length?1:0,userInfo:F}),Object(P.jsxs)(m.d,{children:[Object(P.jsx)(J,{exact:!0,path:"/tabp-clothing/signup",loadingRef:G,userInfo:F,component:Ae}),Object(P.jsx)(J,{exact:!0,path:"/tabp-clothing/signin",loadingRef:G,userInfo:F,component:Ee}),Object(P.jsx)(m.b,{exact:!0,path:"/tabp-clothing",component:function(){return Object(P.jsx)(pe,{})}}),Object(P.jsx)(U,{exact:!0,path:"/tabp-clothing/cart",component:function(){return Object(P.jsx)(oe,{loadingRef:G,userInfo:F,cart:l,updateCart:Q,removeFromCart:Z,emptyCart:$,loading:k,alertProps:R,handleSnackbarClose:Y})}}),Object(P.jsx)(m.b,{component:M})]})]})})})})})},We=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,202)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(P.jsx)(He,{}),document.getElementById("root")),We()}},[[131,1,2]]]);
//# sourceMappingURL=main.80763488.chunk.js.map